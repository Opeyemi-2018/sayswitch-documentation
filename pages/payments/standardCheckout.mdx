import { Callout } from 'nextra/components'

## SaySwitch Standard Checkout Integration Guide

The Standard Checkout integration enables you to create secure, one-time payment links that redirect customers to SaySwitch's hosted payment page for safe transaction processing.


### Overview
The integration follows a simple 3-step process:

1. **Initialize Payment:** Create a payment session on your server
1. **Redirect Customer:** Send customer to SaySwitch payment page from your frontend application
1. **Handle Response:** Process the payment result.

### Prerequisites
Before you begin, ensure you have:

- A SaySwitch merchant account
- Your API keys (test and live)
- A server endpoint to handle payment initialization
- A frontend application to trigger payments

### API Keys
You'll need these keys for authentication:
- **Test Secret Key:** `sk_test_...` (for development)
- **Live Secret Key:** `sk_live_...` (for production)

![Alt text](/assets/img/api-key.png)
<Callout type='warning'>
 Security Note: Never expose your secret keys in frontend code. Always keep them on your server(.env)
</Callout>

### Step 1: Server-Side Payment Initialization
Create an API endpoint on your server to initialize payments with SaySwitch.
### API Endpoint
`POST https://backendapi.sayswitchgroup.com/api/v1/transaction/initialize`

### Required Headers
```json
Authorization: Bearer YOUR_SECRET_KEY
Content-Type: application/json
```


###  Request Payload

```json
{
  "email": "customer@example.com",
  "amount": "100",
  "currency": "NGN",
  "reference": "txn_1234567890",
  "callback_url": "https://yourdomain.com/webhook",
  "redirect_url": "https://yourdomain.com/payment-success"
}
```

### Field Descriptions

| Field         | Type   | Required    | Description                                                          |
|---------------|--------|-------------|----------------------------------------------------------------------|
| email         | string | Yes         | Customer's email address                                             |
| amount        | string | Yes         | Amount to charge (in the smallest currency unit)                     |
| currency      | string | Yes         | Currency code (e.g., "NGN" for Nigerian Naira)                      |
| reference     | string | Yes         | Unique transaction reference (must be unique per transaction)        |
| callback_url  | string | Recommended | Webhook URL for payment notifications (essential for reliable        |
|               |        |             | payment processing)                                                  |
| redirect_url  | string | Recommended | URL to redirect customer after payment (essential for good UX)       |




### Step 2: Frontend Integration
Create a checkout component that collects customer information, sends it to your server for payment initialization, and then redirects to the SaySwitch payment page.

The Flow:

1. Collect customer data (name, email, address, etc.) on your checkout form
2. Submit form data to your server endpoint
2. Receive payment URL from your server (which got it from SaySwitch)
3. Redirect customer to SaySwitch payment page using the received URL

### Sample Frontend Code

```js copy
const handlePay = async () => {
    const res = await fetch("/api/checkout/pay", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ amount: 100, email: "test2018@gmail.com" }),
    });

    const data = await res.json();

    if (data.url) {
      window.location.href = data.url; 
    } else {
      alert("Payment initialization failed.");
    }
  };
```

### Step 3: Handle Payment Response
After the customer completes payment on SaySwitch's page, they'll be redirected back to your application.